{"version":3,"sources":["assets\\Script\\AnimLayerTool.js"],"names":["CardSprite","require","GameConfig","GameTools","GameUiTools","DEVICE_WIDTH","DEVICE_HEIGHT","MoveButtonAnimType","up","down","left","right","leftUp","leftDown","rightUp","rightDown","AnimLayerTool","moveButtonAnimTime","bottonAnim","button","arrayNode","Array","length","undefined","i","time","Math","random","width","height","anim1","cc","jumpBy","v2","anim2","anim3","scaleBy","anim4","delayTime","actions","sequence","reverse","runAction","repeatForever","createShowMessageBox","x","y","name","rotation","parentNode","createShowMessageBoxAward","engineType","message","Node","getSpriteFrame","addComponent","Sprite","playSimpleAudioEngine","setPosition","opacity","addChild","action1","fadeIn","action2","action3","fadeOut","moveFinish","callFunc","callFuncAddScore","action4","moveButtonAnim","isShow","moveButtonAnimType","positionX","positionY","size","getContentSize","moveTo","createAddScore","addScore","addScoreSprite","lable","Label","font","numberLabelAtlas","string","GameScene","node","move1","moveBy","move2","move3","spawn","sender","destroy","createScoreMoveAnim","from","score","scoreType","scoreNumberTTF","getParent","callFuncScoreMoveAnim","easing","easeExponentialIn","GameLogic","setScore","createChangeCardNumAnim","card","num","cardSprite","createCardSprite","getNumber","getPositionX","getPositionY","active","setNumber","scaleTo","easeBackIn","moveFinish1","callFuncChangeCardNum1","moveFinish2","callFuncChangeCardNum2","CardShow","funData","createExchangeCardAnim","z","X","Y","unitSize","CARD_WIDTH","CAED_LINES","card1","clone","card2","card3","card4","createRemoveExchangeCardAnim","removeChildByTag","createScaleToCard","number","setScale","easeBackOut","callFuncCard1","createMoveAnim","to","isShowAnim","callFuncCard2","easeBackInOut","jumpTo","scale","callFuncCard3","createPopStarAnim","dTime","callFuncPopStarAnim","emitterNode","getPosition","move_emitter","ParticleSystem","texture","startColor","color","startColorVar","endColorVar","endColor","autoRemoveOnFinish","duration","emissionRate","life","lifeVar","angle","angleVar","custom","playOnLoad","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var CardSprite = require(\"CardSprite\");\nvar GameConfig = require(\"GameConfig\");\nvar GameTools = require(\"GameTools\");\nvar GameUiTools = require(\"GameUiTools\");\nvar DEVICE_WIDTH = GameConfig.DEVICE_WIDTH;\nvar DEVICE_HEIGHT = GameConfig.DEVICE_HEIGHT;\nvar MoveButtonAnimType = {\n    up: 0,//向上\n    down: 1,//向下\n    left: 2,//向左\n    right: 3,//向右\n    leftUp: 4,//左上\n    leftDown: 5,//左下\n    rightUp: 6,//右上\n    rightDown: 7,//右下\n};\nvar AnimLayerTool = {\n    moveButtonAnimTime: 0.3,// 按钮动画移动时间\n    MoveButtonAnimType: MoveButtonAnimType,\n    bottonAnim: function (button) {// 创建按钮特效\n        let arrayNode = new Array();\n        if (button.length == undefined) {\n            arrayNode[0] = button;\n        } else {\n            arrayNode = button;\n        }\n        for (let i = 0; i < arrayNode.length; i++) {\n            // let time = cc.random0To1() * 5 + 1;\n            let time = Math.random() * 5 + 1;\n            let width = arrayNode[i].height / 20.0;\n            let anim1 = cc.jumpBy(time, cc.v2(width, 0), width, 1);\n            let anim2 = cc.jumpBy(time, cc.v2(-width, 0), -width, 1);\n            let anim3 = cc.scaleBy(0.3, 1.1, 0.9);\n            let anim4 = cc.delayTime(time);\n            let actions = cc.sequence(anim1, anim2, anim3, anim3.reverse(), anim4);\n            arrayNode[i].runAction(actions.repeatForever());\n        }\n    },\n    createShowMessageBox(x, y, name, rotation, parentNode) {\n    },\n    createShowMessageBoxAward(parentNode, engineType) //创建奖励消息提示框\n    {\n        let message = new cc.Node();\n        if (engineType == -1) {\n            // message.addComponent(cc.Sprite).spriteFrame = GameTools.love2048FrameCache.getSpriteFrame(\"toast6\");\n        } else if (engineType < 6) {\n            return;\n        } else if (engineType < 8) {\n            GameUiTools.getSpriteFrame(\"pop_nopack/txt_good\", message.addComponent(cc.Sprite));\n        } else if (engineType < 10) {\n            GameUiTools.getSpriteFrame(\"pop_nopack/txt_cool\",message.addComponent(cc.Sprite));\n        } else if (engineType < 12) {\n            GameUiTools.getSpriteFrame(\"pop_nopack/txt_verygood\", message.addComponent(cc.Sprite));\n        } else if (engineType < 14) {\n            GameUiTools.getSpriteFrame(\"pop_nopack/txt_smart\", message.addComponent(cc.Sprite));\n        } else {\n            GameUiTools.getSpriteFrame(\"pop_nopack/txt_boom\", message.addComponent(cc.Sprite));\n        }\n        GameTools.playSimpleAudioEngine(3);\n        message.setPosition(0, 0);\n        // message.setOpacity(0);\n        message.opacity = 0;\n        parentNode.addChild(message);\n\n        let action1 = cc.fadeIn(0.5);\n        let action2 = cc.delayTime(1);\n        let action3 = cc.fadeOut(0.5);\n        let moveFinish = cc.callFunc(this.callFuncAddScore, this, message);\n        let action4 = cc.sequence(action1, action2, action3, moveFinish);\n        message.runAction(action4);\n    },\n    moveButtonAnim: function (button, isShow, moveButtonAnimType) {// 按钮消失或出现动画\n        let positionX = button.x;\n        let positionY = button.y;\n        let size = button.getContentSize();\n        if (isShow) {\n            switch (moveButtonAnimType) {\n                case 0:// up:\n                    button.setPosition(positionX, DEVICE_HEIGHT + size.height);\n                    break;\n                case 1:// down:\n                    button.setPosition(positionX, -size.height);\n                    break;\n                case 2:// left:\n                    button.setPosition(-size.width, positionY);\n                    break;\n                case 3:// right:\n                    button.setPosition(DEVICE_WIDTH + size.width, positionY);\n                    break;\n                case 4:// leftUp:\n                    button.setPosition(-size.width, DEVICE_HEIGHT + size.height);\n                    break;\n                case 5:// leftDown:\n                    button.setPosition(-size.width, -size.height);\n                    break;\n                case 6:// rightUp:\n                    button.setPosition(DEVICE_WIDTH + size.width, DEVICE_HEIGHT + size.height);\n                    break;\n                case 7:// rightDown:\n                    button.setPosition(DEVICE_WIDTH + size.width, -size.height);\n                    break;\n                default:\n                    break;\n            }\n            let anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(positionX, positionY));\n            button.runAction(anim1);\n        }\n        else {\n            let anim1;\n            switch (moveButtonAnimType) {\n                case 0:// up:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(positionX, DEVICE_HEIGHT + size.height));\n                    break;\n                case 1:// down:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(positionX, -size.height));\n                    break;\n                case 2:// left:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(-size.width, positionY));\n                    break;\n                case 3:// right:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(DEVICE_WIDTH + size.width, positionY));\n                    break;\n                case 4:// leftUp:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(-size.width, DEVICE_HEIGHT + size.height));\n                    break;\n                case 5:// leftDown:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(-size.width, -size.height));\n                    break;\n                case 6:// rightUp:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(DEVICE_WIDTH + size.width, DEVICE_HEIGHT + size.height));\n                    break;\n                case 7:// rightDown:\n                    anim1 = cc.moveTo(this.moveButtonAnimTime, cc.v2(DEVICE_WIDTH + size.width, -size.height));\n                    break;\n                default:\n                    break;\n            }\n            button.runAction(anim1);\n        }\n    },\n\n    createAddScore(addScore) //创建加分动画\n    {\n        let addScoreSprite = new cc.Node();\n        let lable = addScoreSprite.addComponent(cc.Label);\n        lable.font = GameTools.numberLabelAtlas;\n        lable.string = \":\" + addScore;\n        addScoreSprite.setPosition(-46, 505);\n        // addScoreSprite.setOpacity(100);\n        addScoreSprite.opacity = 0;\n        GameConfig.GameScene.node.addChild(addScoreSprite);\n        let move1 = cc.moveBy(0.3, 0, 106);\n        let move2 = cc.fadeIn(0.2);\n        let move3 = cc.spawn(move1, move2);\n        let moveFinish = cc.callFunc(this.callFuncAddScore, this, addScoreSprite);\n        addScoreSprite.runAction(cc.sequence(move3, moveFinish));\n    },\n    callFuncAddScore(sender, node) //创建加分动画监听\n    {\n        sender.destroy();\n    },\n    createScoreMoveAnim: function (from, score, scoreType) { //创建得分移动动画\n        if (score > 0) {\n            let scoreNumberTTF = new cc.Node();\n            let lable = scoreNumberTTF.addComponent(cc.Label);\n            lable.font = GameTools.numberLabelAtlas;\n            lable.string = \":\" + score;\n            scoreNumberTTF.setPosition(from.x, from.y);\n            from.getParent().addChild(scoreNumberTTF);\n            let moveFinish = cc.callFunc(this.callFuncScoreMoveAnim, this, scoreNumberTTF);\n            let move1 = null;\n            if (scoreType) {\n                move1 = cc.moveTo(1, 58 + 360, 408 + 640);\n            } else {\n                move1 = cc.moveTo(1, -259 + 360, 290 + 640);\n            }\n            move1.easing(cc.easeExponentialIn());\n            scoreNumberTTF.runAction(cc.sequence(move1, moveFinish));\n        }\n    },\n    callFuncScoreMoveAnim: function (sender, scoreNumberTTF) { //得分移动动画监听\n        GameConfig.GameLogic.setScore();\n        scoreNumberTTF.destroy();\n    },\n\n    createChangeCardNumAnim: function (card, num) //创建移除动画\n    {\n        let cardSprite = CardSprite.createCardSprite(card.getNumber(), card.getPositionX(), card.getPositionY());\n        card.getParent().addChild(cardSprite);\n        card.active = false;\n        card.setNumber(num);\n        cardSprite.setNumber(num);\n\n        let action2 = cc.scaleTo(0.3, 0);\n        action2.easing(cc.easeBackIn())\n        let action3 = cc.scaleTo(0.1, 1);\n        let moveFinish1 = cc.callFunc(this.callFuncChangeCardNum1, this, cardSprite);\n        let moveFinish2 = cc.callFunc(this.callFuncChangeCardNum2, this, [cardSprite, card]);\n        let actions = cc.sequence(action2, moveFinish1, action3, moveFinish2);\n        cardSprite.runAction(actions);\n    },\n    callFuncChangeCardNum1: function (sender, cardSprite) //卡片移除特效监听\n    {\n        cardSprite.CardShow();\n    },\n    callFuncChangeCardNum2: function (sender, funData) //卡片移除特效监听\n    {\n        let cardSprite = funData[0];\n        let card = funData[1];\n        card.CardShow();\n        card.active = true;\n        cardSprite.destroy();\n    },\n    createExchangeCardAnim: function (card, z, x) //创建道具交换特效\n    {\n        let X = card.getPositionX();\n        let Y = card.getPositionY();\n        let unitSize = GameConfig.CARD_WIDTH / (GameConfig.CAED_LINES + 1);\n        let move1 = cc.scaleBy(0.4, 1.15);\n        let actions = cc.sequence(move1, move1.reverse());\n        if (z > 0) {\n            let card1 = CardSprite.createCardSprite(-1, X - unitSize - GameConfig.CARD_WIDTH, Y);\n            card.getParent().addChild(card1);\n            card1.runAction(actions.clone().repeatForever());\n        }\n        if (z < GameConfig.CAED_LINES - 1) {\n            let card2 = CardSprite.createCardSprite(-1, X + unitSize + GameConfig.CARD_WIDTH, Y);\n            card.getParent().addChild(card2);\n            card2.runAction(actions.clone().repeatForever());\n        }\n        if (x > 0) {\n            let card3 = CardSprite.createCardSprite(-1, X, Y - unitSize - GameConfig.CARD_WIDTH);\n            card.getParent().addChild(card3);\n            card3.runAction(actions.clone().repeatForever());\n        }\n        if (x < GameConfig.CAED_LINES - 1) {\n            let card4 = CardSprite.createCardSprite(-1, X, Y + unitSize + GameConfig.CARD_WIDTH);\n            card.getParent().addChild(card4);\n            card4.runAction(actions.clone().repeatForever());\n        }\n    },\n\n    createRemoveExchangeCardAnim: function (card, z, x) //创建道具移除交换特效\n    {\n        if (z > 0) {\n            card.getParent().removeChildByTag(2001);\n        }\n        if (z < GameConfig.CAED_LINES - 1) {\n            card.getParent().removeChildByTag(2002);\n        }\n        if (x > 0) {\n            card.getParent().removeChildByTag(2003);\n        }\n        if (x < GameConfig.CAED_LINES - 1) {\n            card.getParent().removeChildByTag(2004);\n        }\n    },\n\n    createScaleToCard: function (card) {// 创建卡片初始化动画\n        let cardSprite = CardSprite.createCardSprite(card.number, card.x, card.y);\n        card.getParent().addChild(cardSprite);\n        card.active = false;\n        cardSprite.setScale(0);\n        let action2 = cc.scaleTo(0.3, 1);\n        action2.easing(cc.easeBackOut());\n        let moveFinish = cc.callFunc(this.callFuncCard1, this, [cardSprite, card]);\n        cardSprite.runAction(cc.sequence(action2, moveFinish));\n    },\n    callFuncCard1: function (node, cardSprite) {\n        cardSprite[1].CardShow();\n        cardSprite[1].active = true\n        cardSprite[0].destroy();\n    },\n\n    createMoveAnim: function (from, to, isShowAnim) {\n        let cardSprite = CardSprite.createCardSprite(from.number, from.x, from.y);\n        to.getParent().addChild(cardSprite);\n        let i = 0;\n        let moveFinish = cc.callFunc(this.callFuncCard2, this, [cardSprite, to, isShowAnim]);\n        let move1 = cc.moveTo(0.3, cc.v2(to.x, to.y));\n        if (i < 1) {\n            move1 = cc.moveTo(0.1, cc.v2(to.x, to.y));\n        } else if (i < 2) {\n            move1.easing(cc.easeBackIn());\n        } else if (i < 3) {\n            move1.easing(cc.easeBackOut());\n        } else if (i < 4) {\n            move1.easing(cc.easeBackInOut());\n        } else if (i < 5) {\n            move1 = cc.jumpTo(0.3, cc.v2(to.x, to.y), GameConfig.CARD_WIDTH, 2);\n        }\n        cardSprite.runAction(cc.sequence(move1, moveFinish));\n    },\n    callFuncCard2: function (sender, to) {\n        to[1].CardShow();\n        if (to[2]) {\n            to[0].number = to[1].number;\n            to[0].CardShow();\n            let scale = cc.scaleBy(0.02, 1.15);\n            let moveFinish = cc.callFunc(this.callFuncCard3, this, to[0]);\n            to[0].runAction(cc.sequence(scale, scale.reverse(), moveFinish));\n        }\n        else {\n            to[0].destroy();\n        }\n    },\n    callFuncCard3: function (sender, card) {\n        card.destroy();\n    },\n    createPopStarAnim(from, dTime) //创建卡片爆炸特效\n    {\n        let moveFinish2 = cc.callFunc(this.callFuncPopStarAnim, this, from);\n        // from.runAction(cc.sequence(cc.delayTime(dTime), moveFinish2, cc.hide()));\n        from.runAction(cc.sequence(cc.delayTime(dTime), moveFinish2, cc.fadeOut()));\n    },\n    callFuncPopStarAnim(sender, from) //卡片爆炸特效监听\n    {\n        GameTools.playSimpleAudioEngine(0);\n        let emitterNode = new cc.Node();\n        emitterNode.setPosition(from.getPosition());\n        let move_emitter = emitterNode.addComponent(cc.ParticleSystem);\n        // let move_emitter = ParticleExplosion.createWithTotalParticles(30);\n        // let move_emitter = new cc.ParticleSystem(30);\n        switch (from.getNumber()) {\n            // case 2:\n            //     move_emitter.texture = \"res/raw-assets/resources/particals/noe/partical_tex_yellow\";\n            //     break;\n            // case 4:\n            //     move_emitter.texture = \"res/raw-assets/resources/particals/noe/partical_tex_blue\";\n            //     break;\n            // case 8:\n            //     move_emitter.texture = \"res/raw-assets/resources/particals/noe/partical_tex_green\";\n            //     break;\n            // case 16:\n            //     move_emitter.texture = \"res/raw-assets/resources/particals/noe/partical_tex_red\";\n            //     break;\n            // case 32:\n            //     move_emitter.texture = \"res/raw-assets/resources/particals/noe/partical_tex_purple\";\n            //     break;\n            case 2:\n                move_emitter.texture = \"pop_game/n6\";\n                break;\n            case 4:\n                move_emitter.texture = \"pop_game/n6\";\n                break;\n            case 8:\n                move_emitter.texture = \"pop_game/n6\";\n                break;\n            case 16:\n                move_emitter.texture = \"pop_game/n6\";\n                break;\n            case 32:\n                move_emitter.texture = \"pop_game/n6\";\n                break;\n                \n        }\n        move_emitter.startColor = cc.color(255, 255, 255, 255);\n        move_emitter.startColorVar = cc.color(0, 0, 0, 0);\n        move_emitter.endColorVar = cc.color(0, 0, 0, 0);\n        move_emitter.endColor = move_emitter.startColor;\n        move_emitter.autoRemoveOnFinish = true;\n\n        move_emitter.duration = 0.1;\n        move_emitter.emissionRate = 100;\n        move_emitter.life = 2;\n        move_emitter.lifeVar = 0.5;\n        move_emitter.angle = 90;\n        move_emitter.angleVar = 360;\n        move_emitter.custom = true;\n        move_emitter.playOnLoad = true;\n        from.getParent().addChild(emitterNode);\n    },\n};\n\nmodule.exports = AnimLayerTool;"]}