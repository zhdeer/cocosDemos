window.__require=function e(t,a,r){function o(n,c){if(!a[n]){if(!t[n]){var s=n.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+n+"'")}n=s}var m=a[n]={exports:{}};t[n][0].call(m.exports,function(e){return o(t[n][1][e]||e)},m,m.exports,e,t,a,r)}return a[n].exports}for(var i="function"==typeof __require&&__require,n=0;n<r.length;n++)o(r[n]);return o}({AnimInAndOut:[function(e,t){"use strict";cc._RF.push(t,"0c73cXTEdFOEIiRT1cSAep1","AnimInAndOut"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onEnable:function(){this.node.opacity=0,this.node.setScale(0);var e=cc.fadeIn(.2),t=cc.scaleTo(.2,1);this.node.runAction(cc.spawn(e,t))},animateAndDestroy:function(){var e=this;if(!this.isDestroying){this.isDestroying=!0;var t=cc.fadeOut(.2),a=cc.scaleTo(.2,0),r=cc.callFunc(function(){e.node&&e.node.destroy()});this.node.runAction(cc.sequence(cc.spawn(t,a),r))}},animateAndDisable:function(){var e=this;if(!this.isDestroying){this.isDestroying=!0;var t=cc.fadeOut(.2),a=cc.scaleTo(.2,0),r=cc.callFunc(function(){e.node.active=!1});this.node.runAction(cc.sequence(cc.spawn(t,a),r))}}}),cc._RF.pop()},{}],AnimLayerTool:[function(e,t){"use strict";cc._RF.push(t,"dcf6e/4kv9KYrR4VIQPHtsC","AnimLayerTool");var a=e("CardSprite"),r=e("GameConfig"),o=e("GameTools"),i=e("GameUiTools"),n=r.DEVICE_WIDTH,c=r.DEVICE_HEIGHT,s={moveButtonAnimTime:.3,MoveButtonAnimType:{up:0,down:1,left:2,right:3,leftUp:4,leftDown:5,rightUp:6,rightDown:7},bottonAnim:function(e){var t=new Array;null==e.length?t[0]=e:t=e;for(var a=0;a<t.length;a++){var r=5*Math.random()+1,o=t[a].height/20,i=cc.jumpBy(r,cc.v2(o,0),o,1),n=cc.jumpBy(r,cc.v2(-o,0),-o,1),c=cc.scaleBy(.3,1.1,.9),s=cc.delayTime(r),u=cc.sequence(i,n,c,c.reverse(),s);t[a].runAction(u.repeatForever())}},createShowMessageBox:function(){},createShowMessageBoxAward:function(e,t){var a=new cc.Node;if(-1==t);else{if(t<6)return;t<8?i.getSpriteFrame("pop_nopack/txt_good",a.addComponent(cc.Sprite)):t<10?i.getSpriteFrame("pop_nopack/txt_cool",a.addComponent(cc.Sprite)):t<12?i.getSpriteFrame("pop_nopack/txt_verygood",a.addComponent(cc.Sprite)):t<14?i.getSpriteFrame("pop_nopack/txt_smart",a.addComponent(cc.Sprite)):i.getSpriteFrame("pop_nopack/txt_boom",a.addComponent(cc.Sprite))}o.playSimpleAudioEngine(3),a.setPosition(0,0),a.opacity=0,e.addChild(a);var r=cc.fadeIn(.5),n=cc.delayTime(1),c=cc.fadeOut(.5),s=cc.callFunc(this.callFuncAddScore,this,a),u=cc.sequence(r,n,c,s);a.runAction(u)},moveButtonAnim:function(e,t,a){var r=e.x,o=e.y,i=e.getContentSize();if(t){switch(a){case 0:e.setPosition(r,c+i.height);break;case 1:e.setPosition(r,-i.height);break;case 2:e.setPosition(-i.width,o);break;case 3:e.setPosition(n+i.width,o);break;case 4:e.setPosition(-i.width,c+i.height);break;case 5:e.setPosition(-i.width,-i.height);break;case 6:e.setPosition(n+i.width,c+i.height);break;case 7:e.setPosition(n+i.width,-i.height)}var s=cc.moveTo(this.moveButtonAnimTime,cc.v2(r,o));e.runAction(s)}else{var u;switch(a){case 0:u=cc.moveTo(this.moveButtonAnimTime,cc.v2(r,c+i.height));break;case 1:u=cc.moveTo(this.moveButtonAnimTime,cc.v2(r,-i.height));break;case 2:u=cc.moveTo(this.moveButtonAnimTime,cc.v2(-i.width,o));break;case 3:u=cc.moveTo(this.moveButtonAnimTime,cc.v2(n+i.width,o));break;case 4:u=cc.moveTo(this.moveButtonAnimTime,cc.v2(-i.width,c+i.height));break;case 5:u=cc.moveTo(this.moveButtonAnimTime,cc.v2(-i.width,-i.height));break;case 6:u=cc.moveTo(this.moveButtonAnimTime,cc.v2(n+i.width,c+i.height));break;case 7:u=cc.moveTo(this.moveButtonAnimTime,cc.v2(n+i.width,-i.height))}e.runAction(u)}},createAddScore:function(e){var t=new cc.Node,a=t.addComponent(cc.Label);a.font=o.numberLabelAtlas,a.string=":"+e,t.setPosition(-46,505),t.opacity=0,r.GameScene.node.addChild(t);var i=cc.moveBy(.3,0,106),n=cc.fadeIn(.2),c=cc.spawn(i,n),s=cc.callFunc(this.callFuncAddScore,this,t);t.runAction(cc.sequence(c,s))},callFuncAddScore:function(e){e.destroy()},createScoreMoveAnim:function(e,t,a){if(t>0){var r=new cc.Node,i=r.addComponent(cc.Label);i.font=o.numberLabelAtlas,i.string=":"+t,r.setPosition(e.x,e.y),e.getParent().addChild(r);var n=cc.callFunc(this.callFuncScoreMoveAnim,this,r),c=null;(c=a?cc.moveTo(1,418,1048):cc.moveTo(1,101,930)).easing(cc.easeExponentialIn()),r.runAction(cc.sequence(c,n))}},callFuncScoreMoveAnim:function(e,t){r.GameLogic.setScore(),t.destroy()},createChangeCardNumAnim:function(e,t){var r=a.createCardSprite(e.getNumber(),e.getPositionX(),e.getPositionY());e.getParent().addChild(r),e.active=!1,e.setNumber(t),r.setNumber(t);var o=cc.scaleTo(.3,0);o.easing(cc.easeBackIn());var i=cc.scaleTo(.1,1),n=cc.callFunc(this.callFuncChangeCardNum1,this,r),c=cc.callFunc(this.callFuncChangeCardNum2,this,[r,e]),s=cc.sequence(o,n,i,c);r.runAction(s)},callFuncChangeCardNum1:function(e,t){t.CardShow()},callFuncChangeCardNum2:function(e,t){var a=t[0],r=t[1];r.CardShow(),r.active=!0,a.destroy()},createExchangeCardAnim:function(e,t,o){var i=e.getPositionX(),n=e.getPositionY(),c=r.CARD_WIDTH/(r.CAED_LINES+1),s=cc.scaleBy(.4,1.15),u=cc.sequence(s,s.reverse());if(t>0){var m=a.createCardSprite(-1,i-c-r.CARD_WIDTH,n);e.getParent().addChild(m),m.runAction(u.clone().repeatForever())}if(t<r.CAED_LINES-1){var l=a.createCardSprite(-1,i+c+r.CARD_WIDTH,n);e.getParent().addChild(l),l.runAction(u.clone().repeatForever())}if(o>0){var p=a.createCardSprite(-1,i,n-c-r.CARD_WIDTH);e.getParent().addChild(p),p.runAction(u.clone().repeatForever())}if(o<r.CAED_LINES-1){var h=a.createCardSprite(-1,i,n+c+r.CARD_WIDTH);e.getParent().addChild(h),h.runAction(u.clone().repeatForever())}},createRemoveExchangeCardAnim:function(e,t,a){t>0&&e.getParent().removeChildByTag(2001),t<r.CAED_LINES-1&&e.getParent().removeChildByTag(2002),a>0&&e.getParent().removeChildByTag(2003),a<r.CAED_LINES-1&&e.getParent().removeChildByTag(2004)},createScaleToCard:function(e){var t=a.createCardSprite(e.number,e.x,e.y);e.getParent().addChild(t),e.active=!1,t.setScale(0);var r=cc.scaleTo(.3,1);r.easing(cc.easeBackOut());var o=cc.callFunc(this.callFuncCard1,this,[t,e]);t.runAction(cc.sequence(r,o))},callFuncCard1:function(e,t){t[1].CardShow(),t[1].active=!0,t[0].destroy()},createMoveAnim:function(e,t,r){var o=a.createCardSprite(e.number,e.x,e.y);t.getParent().addChild(o);var i=cc.callFunc(this.callFuncCard2,this,[o,t,r]),n=cc.moveTo(.3,cc.v2(t.x,t.y));n=cc.moveTo(.1,cc.v2(t.x,t.y)),o.runAction(cc.sequence(n,i))},callFuncCard2:function(e,t){if(t[1].CardShow(),t[2]){t[0].number=t[1].number,t[0].CardShow();var a=cc.scaleBy(.02,1.15),r=cc.callFunc(this.callFuncCard3,this,t[0]);t[0].runAction(cc.sequence(a,a.reverse(),r))}else t[0].destroy()},callFuncCard3:function(e,t){t.destroy()},createPopStarAnim:function(e,t){var a=cc.callFunc(this.callFuncPopStarAnim,this,e);e.runAction(cc.sequence(cc.delayTime(t),a,cc.fadeOut()))},callFuncPopStarAnim:function(e,t){o.playSimpleAudioEngine(0);var a=new cc.Node;a.setPosition(t.getPosition());var r=a.addComponent(cc.ParticleSystem);switch(t.getNumber()){case 2:case 4:case 8:case 16:case 32:r.texture="pop_game/n6"}r.startColor=cc.color(255,255,255,255),r.startColorVar=cc.color(0,0,0,0),r.endColorVar=cc.color(0,0,0,0),r.endColor=r.startColor,r.autoRemoveOnFinish=!0,r.duration=.1,r.emissionRate=100,r.life=2,r.lifeVar=.5,r.angle=90,r.angleVar=360,r.custom=!0,r.playOnLoad=!0,t.getParent().addChild(a)}};t.exports=s,cc._RF.pop()},{CardSprite:"CardSprite",GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],CardSprite:[function(e,t){"use strict";cc._RF.push(t,"a4ef50jralNeI7oo4DmKqQv","CardSprite");var a=e("GameConfig"),r=(e("GameTools"),e("GameUiTools")),o=cc.Class({extends:cc.Node,properties:{cardSprite:null,number:0,isSelect:!1,isFirstSelect:!1},ctor:function(){this.cardSprite=this.addComponent(cc.Sprite)},statics:{createCardSprite:function(e,t,a){var r=new o;return r.initCard(e,t,a),r}},initCard:function(e,t,r){this.number=e,this.CardShow(),this.setPosition(t,r),this.width=a.CARD_WIDTH,this.height=a.CARD_WIDTH,this.cardSprite.sizeMode=cc.Sprite.SizeMode.CUSTOM},CardShow:function(){1==this.number?r.getSpriteFrame("pop_game/barrier",this.cardSprite):-1==this.number?r.getSpriteFrame("pop_game/popgame_61",this.cardSprite):0==this.number?r.getSpriteFrame("pop_game/emptyl",this.cardSprite):this.number>=2&&this.number<=131072&&r.getSpriteFrame("pop_game/n"+this.number,this.cardSprite)},setNumber:function(e){this.number=e},getNumber:function(){return this.number},CardClickShow:function(e){if(0==e)this.removeAllChildren(),this.isSelect=!1,this.isFirstSelect=!1;else{var t=cc.moveBy(.05,cc.v2(0,2));this.runAction(cc.sequence(t,t.reverse())),this.isSelect=!0;var a=new cc.Node;r.getSpriteFrame("pop_game/popgame_61",a.addComponent(cc.Sprite));var o=a.getContentSize().height,i=this.getContentSize().height/o;if(a.setScale(i),this.addChild(a),1==e){this.isFirstSelect=!0;var n=cc.scaleBy(.4,1.15),c=cc.sequence(n,n.reverse());a.runAction(c.repeatForever())}else 2==e&&a.setScale(i+.05)}},getIsSelect:function(){return this.isSelect},getIsFirstSelect:function(){return this.isFirstSelect},isVisible:function(){return 255==this.opacity},setVisible:function(e){this.opacity=e?255:0}});t.exports=o,cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameConfig:[function(e,t){"use strict";cc._RF.push(t,"f937eblcKFPZItT3ZuvdIyg","GameConfig");var a={LoadingSceneFirst:0,LoadingSceneEnterGame:1,LoadingSceneBackGame:2},r={MainMenuNumClassic:0,MainMenuNumPop:5,MainMenuNumPopStar:6,MainMenuSpace:7},o={PropsMenuBackout:0,PropsMenuDestroyCard:1,PropsMenuExchangeCard:2,PropsMenuShrinkNum:3,PropsMenuRemoveAcross:4,PropsMenuRemoveVertical:5,PropsMenuSpace:6},i={GameName:"\u4e00\u8d77\u6d88\u706d\u661f\u661f",GameClubButton:null,GameScene:null,GameLogic:null,LoadingSceneType:a,MainMenu:r,PropsMenu:o,DEVICE_WIDTH:720,DEVICE_HEIGHT:1280,CARD_WIDTH:0,CAED_LINES:4,MAIN_MENU_NUM:-1e3,loadingSceneType:a.LoadingSceneFirst,mainMenu:r.MainMenuSpace,propsMenu:o.PropsMenuSpace,IS_GAME_MUSIC:!0,IS_GAME_SHARE:!1,IS_GAME_OVER:!1,IS_GAME_WIN:!1};t.exports=i,cc._RF.pop()},{}],GameData:[function(e,t){"use strict";cc._RF.push(t,"9d75bPsk+FALqemqL/20DvJ","GameData");var a=e("GameConfig"),r=e("GameTools"),o={scoreCard0:[],scoreCard1:[],scoreCard2:[],scoreCard3:[],score0:0,score1:0,score2:0,score3:0,heightScore:0,bestNum:2,initData:function(){this.scoreCard0=new Array,this.scoreCard1=new Array,this.scoreCard2=new Array,this.scoreCard3=new Array;for(var e=0;e<a.CAED_LINES;e++)this.scoreCard0[e]=Array(),this.scoreCard1[e]=Array(),this.scoreCard2[e]=Array(),this.scoreCard3[e]=Array();this.score0=0,this.score1=0,this.score2=0,this.score3=0,this.heightScore=0,this.bestNum=2},getChallengeLevelNum:function(){return 7},getChallengeLevelData:function(e){return 0==e?"1000100000001000000010001":1==e?"1101110001000001000111011":2==e?"1100100001001001000010011":3==e?"0111000100000000010001110":4==e?"0001100001100011000011000":5==e?"0000000100011100010000000":6==e?"1000101010000000101010001":void 0},getGameData:function(e,t,o){return r.getItemByLocalStorage("gameData_"+a.MAIN_MENU_NUM+"_"+e+"_"+t+"_"+o,0)},setGameData:function(e,t,r,o){cc.sys.localStorage.setItem("gameData_"+a.MAIN_MENU_NUM+"_"+t+"_"+r+"_"+o,e)},getGameScoreData:function(e){return r.getItemByLocalStorage("score_"+a.MAIN_MENU_NUM+"_"+e,0)},setGameScoreData:function(e,t){cc.sys.localStorage.setItem("score_"+a.MAIN_MENU_NUM+"_"+t,e)},isHaveGameData:function(){return r.getItemByLocalStorage("isHaveGameData_"+a.MAIN_MENU_NUM,!1)},setHaveGameData:function(e){cc.sys.localStorage.setItem("isHaveGameData_"+a.MAIN_MENU_NUM,e)},getScoreNum:function(){return r.getItemByLocalStorage("ScoreNum_"+a.MAIN_MENU_NUM,0)},setScoreNum:function(e){cc.sys.localStorage.setItem("ScoreNum_"+a.MAIN_MENU_NUM,e)},getHeightScore:function(){return r.getItemByLocalStorage("BestScoreNum_"+a.MAIN_MENU_NUM,0)},setHeightScore:function(e){cc.sys.localStorage.setItem("BestScoreNum_"+a.MAIN_MENU_NUM,e)},getIsRecordHeightNum:function(e){return r.getItemByLocalStorage("isRecordHeightNum_"+a.MAIN_MENU_NUM+"_"+e,!1)},setIsRecordHeightNum:function(e,t){cc.sys.localStorage.setItem("isRecordHeightNum_"+a.MAIN_MENU_NUM+"_"+e,t)},setGameRewards:function(e){e>=1024&&!this.getIsRecordHeightNum(e)&&(r.playSimpleAudioEngine(3),this.setIsRecordHeightNum(e,!0));var t=0;switch(e){case 128:a.mainMenu!=a.MainMenu.MainMenuNumPop&&a.mainMenu!=a.MainMenu.MainMenuNumPopStar&&(t=4-a.CAED_LINES);break;case 256:t=a.mainMenu!=a.MainMenu.MainMenuNumPop&&a.mainMenu!=a.MainMenu.MainMenuNumPopStar?5-a.CAED_LINES:1;break;case 512:t=a.mainMenu!=a.MainMenu.MainMenuNumPop&&a.mainMenu!=a.MainMenu.MainMenuNumPopStar?6-a.CAED_LINES:2;break;case 1024:t=a.mainMenu!=a.MainMenu.MainMenuNumPop&&a.mainMenu!=a.MainMenu.MainMenuNumPopStar?7-a.CAED_LINES:3;break;case 2048:t=a.mainMenu!=a.MainMenu.MainMenuNumPop&&a.mainMenu!=a.MainMenu.MainMenuNumPopStar?8-a.CAED_LINES:4;break;case 4096:t=a.mainMenu!=a.MainMenu.MainMenuNumPop&&a.mainMenu!=a.MainMenu.MainMenuNumPopStar?9-a.CAED_LINES:5;break;case 8192:t=a.mainMenu!=a.MainMenu.MainMenuNumPop&&a.mainMenu!=a.MainMenu.MainMenuNumPopStar?10-a.CAED_LINES:6;break;case 16384:t=a.mainMenu!=a.MainMenu.MainMenuNumPop&&a.mainMenu!=a.MainMenu.MainMenuNumPopStar?11-a.CAED_LINES:7;break;case 65536:t=a.mainMenu!=a.MainMenu.MainMenuNumPop&&a.mainMenu!=a.MainMenu.MainMenuNumPopStar?12-a.CAED_LINES:8;break;case 131072:t=a.mainMenu!=a.MainMenu.MainMenuNumPop&&a.mainMenu!=a.MainMenu.MainMenuNumPopStar?13-a.CAED_LINES:9}return t>0&&this.setGameIntegral(t),t},getGamePropNumber:function(e){return r.getItemByLocalStorage("gameProp"+e,0)},setGamePropNumber:function(e,t){r.setItemByLocalStorage("gameProp"+e,r.getItemByLocalStorage("gameProp"+e,0)+t)},getGameIntegral:function(){return r.getGameIntegral()},setGameIntegral:function(e){r.setGameIntegral(this.getGameIntegral()+e)},isGameHelp:function(){return r.getItemByLocalStorage("isGameHelp"+a.mainMenu,!1)},setGameHelp:function(e){cc.sys.localStorage.setItem("isGameHelp"+a.mainMenu,e)},getGamePassNum:function(){return r.getItemByLocalStorage("passNum"+a.mainMenu,1)},setGamePassNum:function(e){cc.sys.localStorage.setItem("passNum"+a.mainMenu,e)},getGamePassScore:function(){var e=o.getGamePassNum();return 1e3+1500*(e-1)+(e-1)*(e-1)*500},loadGameData:function(e){if(e){for(var t=0;t<a.CAED_LINES;t++)for(var r=0;r<a.CAED_LINES;r++){if(this.scoreCard0[t][r]=this.getGameData(0,t,r),this.bestNum=this.bestNum>this.scoreCard0[t][r]?this.bestNum:this.scoreCard0[t][r],this.checkGameData(this.scoreCard0[t][r]))return!0;this.scoreCard1[t][r]=this.getGameData(1,t,r),this.scoreCard2[t][r]=this.getGameData(2,t,r),this.scoreCard3[t][r]=this.getGameData(3,t,r)}this.scoreNum=this.getScoreNum(),this.score0=this.getGameScoreData(0),this.score1=this.getGameScoreData(1),this.score2=this.getGameScoreData(2),this.score3=this.getGameScoreData(3),a.IS_GAME_WIN=this.bestNum>=2048}else{this.setHeightScore(this.heightScore);for(var o=0;o<a.CAED_LINES;o++)for(var i=0;i<a.CAED_LINES;i++)this.setGameData(this.scoreCard0[o][i],0,o,i),this.setGameData(this.scoreCard1[o][i],1,o,i),this.setGameData(this.scoreCard2[o][i],2,o,i),this.setGameData(this.scoreCard3[o][i],3,o,i);this.setScoreNum(this.scoreNum),this.setGameScoreData(this.score0,0),this.setGameScoreData(this.score1,1),this.setGameScoreData(this.score2,2),this.setGameScoreData(this.score3,3),this.setHaveGameData(!0)}return!1},checkGameData:function(e){if(0==e)return!1;for(var t=1,a=1;a<25;a++){if(e==t)return!1;t*=2}return-1!=e}};t.exports=o,cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}],GameHelp:[function(e,t){"use strict";cc._RF.push(t,"92d33tkzdhLxrs4dxYAfPUo","GameHelp"),e("GameConfig");var a=e("GameTools"),r=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,backButton:cc.Node},onLoad:function(){r.setButtonClickEvents(this,this.backButton,"buttonFunc")},buttonFunc:function(e){var t=e.target;return this.backButton==t&&(a.playSimpleAudioEngine(0),this.node.destroy()),!0}}),cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameOver:[function(e,t){"use strict";cc._RF.push(t,"dec8fHCKaxKIrsVoVxgLzJp","GameOver");var a=e("GameConfig"),r=e("GameTools"),o=e("GameUiTools"),i=e("GameData");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,backButton:cc.Node,reviveButton:cc.Node},onLoad:function(){r.submitScore(i.heightScore),i.heightScore>i.getHeightScore()&&i.setHeightScore(i.heightScore),o.setButtonClickEvents(this,this.backButton,"buttonFunc"),o.setButtonClickEvents(this,this.reviveButton,"buttonFunc")},buttonFunc:function(e){var t=e.target;return this.reviveButton==t?(r.playSimpleAudioEngine(0),i.getGameIntegral()>=30&&(a.IS_GAME_OVER=!1,a.GameLogic.backGame(),i.setGamePropNumber(0,1),i.setGamePropNumber(1,1),i.setGamePropNumber(2,1),i.setGameIntegral(-30),a.GameScene.setGamePropNumber(0),a.GameScene.setGamePropNumber(1),a.GameScene.setGamePropNumber(2),this.node.destroy(),a.IS_GAME_MUSIC&&r.playBackgroundMusic())):this.backButton==t&&(r.playSimpleAudioEngine(0),this.loadingResource()),!0},loadingResource:function(){r.removeRankData(),i.setHaveGameData(!1),i.setGamePassNum(1),a.loadingSceneType=a.LoadingSceneType.LoadingSceneBackGame,a.mainMenu=a.MainMenu.MainMenuSpace,cc.director.loadScene("LoadingScene")}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GamePass:[function(e,t){"use strict";cc._RF.push(t,"96845POniBJCI0lyGy969Pc","GamePass");var a=e("GameConfig"),r=e("GameTools"),o=e("GameData"),i=e("GameUiTools");cc.Class({extends:cc.Component,properties:{passLabel:cc.Label,scoreLabel:cc.Label,nextPassButton:cc.Node,shareButton:cc.Node,backButton:cc.Node},onLoad:function(){this.passLabel.string="\u7b2c  "+o.getGamePassNum()+"  \u5173",this.scoreLabel.string=o.score0,i.setButtonClickEvents(this,this.nextPassButton,"buttonFunc"),i.setButtonClickEvents(this,this.shareButton,"buttonFunc"),i.setButtonClickEvents(this,this.backButton,"buttonFunc")},buttonFunc:function(e){var t=e.target;return this.shareButton==t?(r.playSimpleAudioEngine(0),r.sharePicture()):this.nextPassButton==t?(r.playSimpleAudioEngine(0),this.node.destroy(),a.GameLogic.autoCreateCardNumber()):this.backButton==t&&(r.playSimpleAudioEngine(0),a.GameLogic.autoCreateCardNumber(),a.GameLogic.saveMemoryInformation(),this.loadingResource()),!0},loadingResource:function(){a.loadingSceneType=a.LoadingSceneType.LoadingSceneBackGame,a.mainMenu=a.MainMenu.MainMenuSpace,cc.director.loadScene("LoadingScene")}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GamePopStar:[function(e,t){"use strict";cc._RF.push(t,"6a3ac4EJGJABo4T04pKYHlg","GamePopStar");var a=e("CardSprite"),r=e("GameConfig"),o=e("GameData"),i=e("AnimLayerTool"),n=e("GameTools"),c=e("GameUiTools"),s=cc.Class({extends:cc.Node,properties:{firstX:null,firstY:null,endX:null,endY:null,selectNumber:0,selectAmount:0,score:0,cardArr:null,firstClickNum:new Array},ctor:function(){this.x=-r.DEVICE_WIDTH/2,this.y=-r.DEVICE_HEIGHT/2,this.setContentSize(4*r.DEVICE_WIDTH,4*r.DEVICE_HEIGHT),this.init()},init:function(){this.cardArr=new Array;for(var e=0;e<r.CAED_LINES;e++)this.cardArr[e]=Array();this.firstClickNum[0]=-1,this.firstClickNum[1]=-1,this.initUI()},initUI:function(){if(this.on(cc.Node.EventType.TOUCH_START,this.onTouchBegan,this),this.createCardSprite(),o.isHaveGameData()){this.score=o.score0;for(var e=0;e<r.CAED_LINES;e++)for(var t=0;t<r.CAED_LINES;t++)this.cardArr[e][t].number=o.scoreCard0[e][t],this.cardArr[e][t].CardShow(),1==o.scoreCard2[e][t]&&this.cardArr[e][t].setVisible(!1)}else{for(var a=0;a<r.CAED_LINES;a++)for(var n=0;n<r.CAED_LINES;n++)i.moveButtonAnim(this.cardArr[a][n],!0,i.MoveButtonAnimType.up);o.score0=0,o.score1=0,o.scoreNum=0,this.score=0;for(var c=0;c<r.CAED_LINES;c++)for(var s=0;s<r.CAED_LINES;s++)o.scoreCard3[c][s]=0,o.scoreCard2[c][s]=0,o.scoreCard1[c][s]=this.cardArr[c][s].number,o.scoreCard0[c][s]=this.cardArr[c][s].number}},onTouchBegan:function(e){var t=e.touch.getLocation(),a=e.getCurrentTarget();if(r.propsMenu!=r.PropsMenu.PropsMenuSpace)return a.GamePopStarProperty(t),!1;if(0==a.selectAmount){for(var o=0;o<r.CAED_LINES;o++)for(var i=0;i<r.CAED_LINES;i++)a.cardArr[o][i].isVisible()&&a.cardArr[o][i].getBoundingBoxToWorld().contains(t)&&(n.playSimpleAudioEngine(1),a.cardArr[o][i].CardClickShow(1),a.inspectionSelect(o,i));a.cardVanish()}return!0},GamePopStarProperty:function(e){console.log("touchPoint :"+e);for(var t=0;t<r.CAED_LINES;t++)for(var a=0;a<r.CAED_LINES;a++)if(this.cardArr[t][a].isVisible()&&this.cardArr[t][a].getBoundingBoxToWorld().contains(e)){if(n.playSimpleAudioEngine(0),r.propsMenu==r.PropsMenu.PropsMenuDestroyCard)return this.cardArr[t][a].setVisible(!1),this.cardVanishAni(0),o.setGamePropNumber(0,-1),r.GameScene.setGamePropNumber(0),void(r.propsMenu=r.PropsMenu.PropsMenuSpace);if(r.propsMenu==r.PropsMenu.PropsMenuExchangeCard){if(-1==this.firstClickNum[0])this.firstClickNum[0]=t,this.firstClickNum[1]=a,t>0&&this.cardArr[t-1][a].isVisible()&&this.cardArr[t-1][a].CardClickShow(1),t<r.CAED_LINES-1&&this.cardArr[t+1][a].isVisible()&&this.cardArr[t+1][a].CardClickShow(1),a>0&&this.cardArr[t][a-1].isVisible()&&this.cardArr[t][a-1].CardClickShow(1),a<r.CAED_LINES-1&&this.cardArr[t][a+1].isVisible()&&this.cardArr[t][a+1].CardClickShow(1);else{if(1==Math.abs(t-this.firstClickNum[0])&&a-this.firstClickNum[1]==0||t-this.firstClickNum[0]==0&&1==Math.abs(a-this.firstClickNum[1])){this.cancelSelect(),i.createMoveAnim(this.cardArr[t][a],this.cardArr[this.firstClickNum[0]][this.firstClickNum[1]],!0),i.createMoveAnim(this.cardArr[this.firstClickNum[0]][this.firstClickNum[1]],this.cardArr[t][a],!0);var c=this.cardArr[t][a].getNumber();this.cardArr[t][a].setNumber(this.cardArr[this.firstClickNum[0]][this.firstClickNum[1]].getNumber()),this.cardArr[this.firstClickNum[0]][this.firstClickNum[1]].setNumber(c),this.firstClickNum[0]=-1,this.firstClickNum[1]=-1,o.setGamePropNumber(2,-1),r.GameScene.setGamePropNumber(2),this.cardVanishAni(0)}else this.firstClickNum[0]=-1,this.firstClickNum[1]=-1,this.cancelSelect();r.propsMenu=r.PropsMenu.PropsMenuSpace}return}if(r.propsMenu==r.PropsMenu.PropsMenuRemoveAcross){for(var s=0;s<r.CAED_LINES;s++)i.callFuncPopStarAnim(null,this.cardArr[s][a]),this.cardArr[s][a].setVisible(!1),i.callFuncPopStarAnim(null,this.cardArr[t][s]),this.cardArr[t][s].setVisible(!1);return o.setGamePropNumber(1,-1),r.GameScene.setGamePropNumber(1),this.cardVanishAni(0),void(r.propsMenu=r.PropsMenu.PropsMenuSpace)}}-1!=this.firstClickNum[0]&&(this.cancelSelect(),this.firstClickNum[0]=-1,this.firstClickNum[1]=-1),r.propsMenu=r.PropsMenu.PropsMenuSpace},cardVanishAni:function(){this.doDown(),this.doLeft(),this.doCheck(0),this.selectAmount=0},cancelSelect:function(){for(var e=0;e<r.CAED_LINES;e++)for(var t=0;t<r.CAED_LINES;t++)this.cardArr[e][t].getIsSelect()&&this.cardArr[e][t].CardClickShow(0);this.selectAmount=0},cardVanish:function(){if(this.selectAmount>=2){for(var e,t,a=0,n=0;n<r.CAED_LINES;n++)for(var s=0;s<r.CAED_LINES;s++)this.cardArr[n][s].getIsFirstSelect()&&(e=n,t=s),this.cardArr[n][s].getIsSelect()&&(this.cardArr[n][s].CardClickShow(0),i.createPopStarAnim(this.cardArr[n][s],.1*a++));this.score=this.score+this.selectAmount*this.selectAmount*5,i.createScoreMoveAnim(this.cardArr[e][t],this.selectAmount*this.selectAmount*5,!1),i.createShowMessageBoxAward(this.getParent(),this.selectAmount);var u=o.setGameRewards(this.selectNumber);i.createScoreMoveAnim(this.cardArr[e][t],u,!0),c.scheduleOnce(this,this.cardVanishAni,.1*a)}else this.cancelSelect();return!1},inspectionSelect:function(e,t){this.cardArr[e][t].CardClickShow(2),this.selectAmount++,this.selectNumber=this.cardArr[e][t].getNumber(),e>=1&&this.cardArr[e-1][t].isVisible()&&!this.cardArr[e-1][t].getIsSelect()&&this.selectNumber==this.cardArr[e-1][t].getNumber()&&this.inspectionSelect(e-1,t),t<r.CAED_LINES-1&&this.cardArr[e][t+1].isVisible()&&!this.cardArr[e][t+1].getIsSelect()&&this.selectNumber==this.cardArr[e][t+1].getNumber()&&this.inspectionSelect(e,t+1),e<r.CAED_LINES-1&&this.cardArr[e+1][t].isVisible()&&!this.cardArr[e+1][t].getIsSelect()&&this.selectNumber==this.cardArr[e+1][t].getNumber()&&this.inspectionSelect(e+1,t),t>=1&&this.cardArr[e][t-1].isVisible()&&!this.cardArr[e][t-1].getIsSelect()&&this.selectNumber==this.cardArr[e][t-1].getNumber()&&this.inspectionSelect(e,t-1)},doDown:function(){for(var e=!1,t=0;t<r.CAED_LINES;t++)for(var a=0;a<r.CAED_LINES;a++)for(var o=a+1;o<r.CAED_LINES;o++)if(this.cardArr[t][o].isVisible()){this.cardArr[t][a].isVisible()||(i.createMoveAnim(this.cardArr[t][o],this.cardArr[t][a],!1),this.cardArr[t][a].setNumber(this.cardArr[t][o].getNumber()),this.cardArr[t][a].setVisible(!0),this.cardArr[t][o].setVisible(!1),this.cardArr[t][o].CardShow(),a--,e=!0);break}return e},doLeft:function(){for(var e=!1,t=0;t<r.CAED_LINES;t++)for(var a=t+1;a<r.CAED_LINES;a++)if(this.cardArr[a][0].isVisible()){if(!this.cardArr[t][0].isVisible()){for(var o=0;o<r.CAED_LINES;o++)this.cardArr[a][o].isVisible()&&i.createMoveAnim(this.cardArr[a][o],this.cardArr[t][o],!1),this.cardArr[t][o].setNumber(this.cardArr[a][o].getNumber()),this.cardArr[t][o].setVisible(this.cardArr[a][o].isVisible()),this.cardArr[a][o].setVisible(!1),this.cardArr[a][o].CardShow();t--,e=!0}break}return e},createCardSprite:function(){for(var e=0;e<r.CAED_LINES;e++)for(var t=0;t<r.CAED_LINES;t++){var o=a.createCardSprite(this.randomCreateCardNumber(),r.CARD_WIDTH*e+r.DEVICE_WIDTH/20+r.CARD_WIDTH/2,r.CARD_WIDTH*t+r.DEVICE_HEIGHT/8);this.cardArr[e][t]=o,this.addChild(o)}},randomCreateCardNumber:function(){var e=5*Math.random();return Math.pow(2,Math.floor(e)+1)},autoCreateCardNumber:function(){for(var e=0;e<r.CAED_LINES;e++)for(var t=0;t<r.CAED_LINES;t++)this.cardArr[e][t].setVisible(!0),this.cardArr[e][t].setNumber(this.randomCreateCardNumber()),this.cardArr[e][t].CardShow(),i.moveButtonAnim(this.cardArr[e][t],!0,i.MoveButtonAnimType.up);o.setGamePassNum(o.getGamePassNum()+1),r.GameScene.setPassNum(),r.GameScene.progressBar.scaleX=0,c.scheduleOnce(this,this.doCheck,.15)},setScore:function(){r.GameScene.setScore(this.score)},doCheck:function(){this.saveMemoryInformation();for(var e=!0,t=0;t<r.CAED_LINES;t++)for(var a=0;a<r.CAED_LINES;a++)if(this.cardArr[a][t].isVisible()){if(a<r.CAED_LINES-1&&this.cardArr[a+1][t].isVisible()&&this.cardArr[a+1][t].getNumber()==this.cardArr[a][t].getNumber()){e=!1;break}if(t<r.CAED_LINES-1&&this.cardArr[a][t+1].isVisible()&&this.cardArr[a][t+1].getNumber()==this.cardArr[a][t].getNumber()){e=!1;break}}if(e){for(var n=0,s=0;s<r.CAED_LINES;s++)for(var u=0;u<r.CAED_LINES;u++)this.cardArr[s][u].isVisible()&&(n<5?i.createPopStarAnim(this.cardArr[s][u],.5*++n):i.createPopStarAnim(this.cardArr[s][u],.5*n));n<5&&(this.score=this.score+(5-n)*(5-n)*5,i.createScoreMoveAnim(this.cardArr[2][2],(5-n)*(5-n)*5,!1)),this.score<o.getGamePassScore()?c.scheduleOnce(this,this.gameOver,1+.5*n):(i.createShowMessageBoxAward(this.getParent(),-1),c.scheduleOnce(this,this.gamePass,1+.5*n))}},gamePass:function(){c.loadingLayer("panel/GamePass")},gameOver:function(){r.IS_GAME_OVER=!0,c.loadingLayer("panel/GameOver")},backGame:function(){if(1==o.scoreNum){for(var e=0;e<r.CAED_LINES;e++)for(var t=0;t<r.CAED_LINES;t++)this.cardArr[e][t].setNumber(o.scoreCard1[e][t]),this.cardArr[e][t].CardShow(),1==o.scoreCard3[e][t]?this.cardArr[e][t].setVisible(!1):this.cardArr[e][t].setVisible(!0);this.score=o.score1,o.scoreNum=0,o.score0=o.score1;for(var a=0;a<r.CAED_LINES;a++)for(var i=0;i<r.CAED_LINES;i++)o.scoreCard2[a][i]=o.scoreCard3[a][i],o.scoreCard0[a][i]=o.scoreCard1[a][i];this.setScore()}else n.toastMessage(4)},saveMemoryInformation:function(){0==o.scoreNum&&(o.scoreNum=1),o.score1=o.score0,o.score0=this.score;for(var e=0;e<r.CAED_LINES;e++)for(var t=0;t<r.CAED_LINES;t++)o.scoreCard3[e][t]=o.scoreCard2[e][t],o.scoreCard2[e][t]=this.cardArr[e][t].isVisible()?0:1,o.scoreCard1[e][t]=o.scoreCard0[e][t],o.scoreCard0[e][t]=this.cardArr[e][t].getNumber(),o.bestNum=o.bestNum>this.cardArr[e][t].getNumber()?o.bestNum:this.cardArr[e][t].getNumber()}});t.exports=s,cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",CardSprite:"CardSprite",GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GamePropHelp:[function(e,t){"use strict";cc._RF.push(t,"14994fnx85J5J1PEYcF4MrT","GamePropHelp");var a=e("GameConfig"),r=e("GameTools"),o=e("GameData"),i=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backColor:cc.Node,title:cc.Sprite,propType:cc.Sprite,helpText:cc.Label,backButton:cc.Node,getPropButton:cc.Node},onLoad:function(){i.setButtonClickEvents(this,this.backButton,"buttonFunc"),i.setButtonClickEvents(this,this.getPropButton,"buttonFunc")},setPropType:function(e){this.propTypeNumber=e,0==e?(i.getSpriteFrame("pop_game/popgame_46",this.title),i.getSpriteFrame("pop_game/popgame_25",this.propType),this.helpText.string="\u6572\u788e\u4f60\u4e0d\u60f3\u8981\u7684\u661f\u661f"):1==e?(i.getSpriteFrame("pop_game/popgame_38",this.title),i.getSpriteFrame("pop_game/popgame_31",this.propType),this.helpText.string="\u53ef\u70b8\u6389\u9009\u4e2d\u7684\u6a2a\u6392\u548c\u7ad6\u6392\u7684\u661f\u661f"):2==e&&(i.getSpriteFrame("pop_game/popgame_57",this.title),i.getSpriteFrame("pop_game/popgame_30",this.propType),this.helpText.string="\u70b9\u51fb\u661f\u661f\uff0c\u53ef\u548c\u5468\u56f4\u661f\u661f\u4ea4\u6362")},buttonFunc:function(e){console.log("  buttonFunc");var t=e.target;return this.backButton==t?(r.playSimpleAudioEngine(0),this.node.destroy()):this.getPropButton==t&&(r.playSimpleAudioEngine(0),r.sharePicture(),o.setGamePropNumber(this.propTypeNumber,1),a.GameScene.setGamePropNumber(this.propTypeNumber),this.node.destroy()),!0}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GamePropNode:[function(e,t){"use strict";cc._RF.push(t,"baa95mizZVN5pOs1SeqB98u","GamePropNode"),e("GameConfig"),e("GameTools");var a=e("GameData"),r=e("GameUiTools");cc.Class({extends:cc.Component,properties:{propType:cc.Sprite,porpNumberLabel:cc.Label,porpNumberNode:cc.Node,addNode:cc.Node,propTypeNumber:0},onLoad:function(){0==this.propTypeNumber?r.getSpriteFrame("pop_game/popgame_25",this.propType):1==this.propTypeNumber?r.getSpriteFrame("pop_game/popgame_31",this.propType):2==this.propTypeNumber&&r.getSpriteFrame("pop_game/popgame_30",this.propType),this.setPropType()},setPropType:function(){a.getGamePropNumber(this.propTypeNumber)>0?(this.porpNumberNode.active=!0,this.porpNumberLabel.string=a.getGamePropNumber(this.propTypeNumber),this.addNode.active=!1):(this.porpNumberNode.active=!1,this.addNode.active=!0)}}),cc._RF.pop()},{GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameScene:[function(e,t){"use strict";cc._RF.push(t,"b71benT1ABC0aPZ2HVTgCte","GameScene");var a=e("GamePopStar"),r=e("GameData"),o=e("GameTools"),i=e("GameUiTools"),n=e("GameConfig");e("AnimLayerTool"),cc.Class({extends:cc.Component,properties:{layerBack:cc.Sprite,backButton:cc.Node,cardNumberTTF:cc.Label,bestScoreTTF:cc.Label,progressBar:cc.Node,passNumTTF:cc.Label,propMenu:[cc.Node],currentScore:0,isAddScore:!1,gameLogicLayer:cc.Node},ctor:function(){n.GameScene=this,o.playBackgroundMusic()},onLoad:function(){n.GameLogic=new a,this.gameLogicLayer.addChild(n.GameLogic),this.currentScore=r.score0,this.cardNumberTTF.string=r.score0,this.bestScoreTTF.string=r.getGamePassScore(),this.passNumTTF.string="\u7b2c "+r.getGamePassNum()+" \u5173",i.setButtonClickEvents(this,this.backButton,"backButtonFunc"),i.setButtonClickEvents(this,this.propMenu,"functionMenuTouchFunc")},start:function(){},backButtonFunc:function(){o.playSimpleAudioEngine(0),this.loadingResource()},functionMenuTouchFunc:function(e){o.playSimpleAudioEngine(0);var t=e.target;this.propMenu[0]==t?r.getGamePropNumber(0)>=1?n.propsMenu=n.PropsMenu.PropsMenuDestroyCard:(this.showGamePropHelp(0),n.propsMenu=n.PropsMenu.PropsMenuSpace):this.propMenu[1]==t?r.getGamePropNumber(1)>=1?n.propsMenu=n.PropsMenu.PropsMenuRemoveAcross:(this.showGamePropHelp(1),n.propsMenu=n.PropsMenu.PropsMenuSpace):this.propMenu[2]==t?r.getGamePropNumber(2)>=1?n.propsMenu=n.PropsMenu.PropsMenuExchangeCard:(this.showGamePropHelp(2),n.propsMenu=n.PropsMenu.PropsMenuSpace):n.propsMenu=n.PropsMenu.PropsMenuSpace},showGamePropHelp:function(e){cc.loader.loadRes("panel/GamePropHelp",function(t,a){var r=cc.instantiate(a);r.getComponent("GamePropHelp").setPropType(e),cc.director.getScene().children[0].addChild(r)})},setGamePropNumber:function(e){console.log("00000000000000-------"),this.propMenu[e].getComponent("GamePropNode").setPropType()},setScore:function(e){this.currentScore>e?(this.currentScore=e,this.cardNumberTTF.string=this.currentScore):this.isAddScore=!0,e>r.heightScore&&(r.heightScore=e),this.progressBar.scaleX=e/r.getGamePassScore()*.8,this.progressBar.scaleX>.9&&(this.progressBar.scaleX=.9)},update:function(){this.isAddScore&&this.currentScore<=r.score0?(this.cardNumberTTF.string=this.currentScore++,this.currentScore++):this.isAddScore=!1},setPassNum:function(){this.passNumTTF.string="\u7b2c "+r.getGamePassNum()+" \u5173",this.bestScoreTTF.string=r.getGamePassScore()},loadingResource:function(){o.stopBackgroundMusic(),n.loadingSceneType=n.LoadingSceneType.LoadingSceneBackGame,cc.director.loadScene("LoadingScene")}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameData:"GameData",GamePopStar:"GamePopStar",GameTools:"GameTools",GameUiTools:"GameUiTools"}],GameTools:[function(e,t){"use strict";cc._RF.push(t,"415acQw6oNBeo2WRVLPUaoS","GameTools");var a=e("GameConfig"),r={love2048FrameCache:null,numberLabelAtlas:null,backMusicIsPlay:null,playSimpleAudioEngine:function(e){if(a.IS_GAME_MUSIC)switch(e){case 0:cc.audioEngine.play(cc.url.raw("resources/sounds/pop_star.mp3"),!1,.5);break;case 1:cc.audioEngine.play(cc.url.raw("resources/sounds/select.mp3"),!1,.5);break;case 2:cc.audioEngine.play(cc.url.raw("resources/sounds/landing.mp3"),!1,.5);break;case 3:cc.audioEngine.play(cc.url.raw("resources/sounds/cheers.mp3"),!1,.5)}},playBackgroundMusic:function(){a.IS_GAME_MUSIC&&null==r.backMusicIsPlay&&(r.backMusicIsPlay=cc.audioEngine.play(cc.url.raw("resources/sounds/backMusic.mp3"),!0,.5))},stopBackgroundMusic:function(){null!=r.backMusicIsPlay&&(cc.audioEngine.stop(r.backMusicIsPlay),r.backMusicIsPlay=null)},getItemByLocalStorage:function(e,t){var a=cc.sys.localStorage.getItem(e);return null==a||""===a?(cc.sys.localStorage.setItem(e,t),t):"boolean"==typeof t?"boolean"==typeof a?a:"true"==a:"number"==typeof t?Number(a):a},setItemByLocalStorage:function(e,t){cc.sys.localStorage.setItem(e,t)},toastMessage:function(e){cc.loader.loadRes("panel/ShowMessage",function(t,a){if(!t){var r=cc.instantiate(a);r.getComponent(cc.Component).toastType=e,cc.director.getScene().children[0].addChild(r)}})},sharePicture:function(e){var t="\u6765\u8ddf\u6211\u4e00\u8d77\u6311\u6218\u6d6a\u6f2b2048\u5427\u3002";"shareTicket"==e?t="\u770b\u770b\u4f60\u5728\u7fa4\u91cc\u6392\u7b2c\u51e0\uff1f\u6765\u548c\u6211\u6311\u6218\u6d6a\u6f2b2048\u5427\u3002":"LotteryLayer"==e?t="\u6d6a\u6f2b2048\u798f\u5229\u5927\u653e\u9001\uff01\u5feb\u8fdb\u6765\u62bd\u5956\u5427\uff01":null!=e&&null!=e&&(t="\u6211\u5f97\u4e86"+e+"\u5206,"+t),CC_WECHATGAME?window.wx.shareAppMessage({title:t,query:"x="+a.MAIN_MENU_NUM,imageUrl:canvas.toTempFilePathSync({destWidth:500,destHeight:400}),success:function(t){null!=t.shareTickets&&t.shareTickets.length>0&&"shareTicket"==e&&window.wx.postMessage({messageType:5,MAIN_MENU_NUM:-1e3==a.MAIN_MENU_NUM?1:a.MAIN_MENU_NUM,shareTicket:t.shareTickets[0]})}}):cc.log("\u6267\u884c\u4e86\u622a\u56fe"+t)},getGameIntegral:function(){return this.getItemByLocalStorage("GameIntegral",0)},setGameIntegral:function(e){cc.sys.localStorage.setItem("GameIntegral",e)},commentGame:function(){CC_WECHATGAME?window.wx.openCustomerServiceConversation({}):(this.toastMessage(1),cc.log("\u6267\u884c\u4e86\u8bc4\u8bba"))},checkFirstLoginGame:function(){var e=this,t=Math.floor(((new Date).getTime()-new Date(2018,3,18,0,0,0,0).getTime())/864e5);t>this.getItemByLocalStorage("FirstEnterGameDate",0)&&(cc.sys.localStorage.setItem("FirstEnterGameDate",t),setTimeout(function(){e.setGameIntegral(e.getGameIntegral()+100),e.toastMessage(9)},1500))},setCardBackPath:function(){},userLogin:function(){},getRankData:function(e){cc.loader.loadRes("panel/RankingListView",function(t,a){if(!t){var r=cc.instantiate(a);null!=e&&(r.getComponent(cc.Component).shareTicket=e),cc.director.getScene().children[0].addChild(r)}})},removeRankData:function(){CC_WECHATGAME?window.wx.postMessage({messageType:0}):cc.log("\u79fb\u9664\u6392\u884c\u699c\u6570\u636e\u3002")},submitScore:function(e){CC_WECHATGAME?window.wx.postMessage({messageType:3,MAIN_MENU_NUM:a.MAIN_MENU_NUM,score:e}):cc.log("\u63d0\u4ea4\u5f97\u5206:"+a.MAIN_MENU_NUM+" : "+e)},getSelectAddNum:function(e){return e<4?2:e<8?4:e<16?8:e<32?16:e<64?32:e<128?64:e<256?128:e<512?256:e<1024?512:e<2048?1024:e<4096?2048:e<8192?4096:e<16384?8192:e<32768?16384:e<65536?32768:e<131072?65536:131072}};t.exports=r,cc._RF.pop()},{GameConfig:"GameConfig"}],GameUiTools:[function(e,t){"use strict";cc._RF.push(t,"6633adSwotPR4cUtDy9WXUH","GameUiTools"),e("GameConfig");var a=e("GameTools"),r={getSpriteFrame:function(e,t){cc.loader.loadRes(e,cc.SpriteFrame,function(e,a){if(e)return cc.error(e.message||e),void console.log("DEBUG: err"+e);t&&(t.spriteFrame=a)})},newSprite:function(e,t){var r=new cc.Node;return t?(e=e.split(".")[0],r.addComponent(cc.Sprite).spriteFrame=a.love2048FrameCache.getSpriteFrame(e)):r.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame("res/raw-assets/"+e),r},setNodeSpriteFrame:function(e,t){e.getComponent(cc.Sprite).spriteFrame=a.love2048FrameCache.getSpriteFrame(t)},setButtonClickEvents:function(e,t,a,r,o){var i=new Array;null==t.length?i[0]=t:i=t;for(var n=0;n<i.length;n++){var c=new cc.Component.EventHandler;c.target=e.node,c.component=e.node.name,c.handler=a,null==t.length?c.customEventData=r:c.customEventData=n;var s=i[n].addComponent(cc.Button);s.clickEvents.push(c),(null==o||o)&&(s.transition=cc.Button.Transition.SCALE,s.duration=.1,s.zoomScale=1.2)}},setSecondSetMenuSpriteFram:function(e,t){e.getChildren()[0].getComponent(cc.Sprite).spriteFrame=a.love2048FrameCache.getSpriteFrame(t?"menuRight":"menuClose")},addCloseSprite:function(e){var t=new cc.Node;t.addComponent(cc.Sprite).spriteFrame=a.love2048FrameCache.getSpriteFrame("menuClose"),e.addChild(t)},scheduleOnce:function(e,t,a){e.runAction(cc.sequence(cc.delayTime(a),cc.callFunc(t,e)))},loadingScene:function(e,t){t?cc.loader.loadRes("panel/LoadingLayer",function(t,a){var r=cc.instantiate(a);cc.director.getScene().children[0].addChild(r),cc.director.preloadScene(e,function(){cc.director.loadScene(e)})}):cc.director.preloadScene(e,function(){cc.director.loadScene(e)})},loadingLayer:function(e){cc.loader.loadRes(e,function(e,t){if(!e){var a=cc.instantiate(t);cc.director.getScene().children[0].addChild(a)}})}};t.exports=r,cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools"}],LoadingScene:[function(e,t){"use strict";cc._RF.push(t,"fa66dpbqYROFqRT9GK3/WP2","LoadingScene");var a=e("GameData"),r=e("GameTools"),o=(e("GameUiTools"),e("GameConfig"));e("AnimLayerTool"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=this;setTimeout(function(){e.loadingResource()},10)},loadingResource:function(){o.loadingSceneType==o.LoadingSceneType.LoadingSceneFirst?(o.IS_GAME_MUSIC=r.getItemByLocalStorage("IS_GAME_MUSIC",!0),this.initFrameCache(),this.initWxSetting()):o.loadingSceneType==o.LoadingSceneType.LoadingSceneEnterGame?(o.IS_GAME_OVER=!1,a.initData(),a.heightScore=a.getHeightScore(),a.isHaveGameData()&&(a.loadGameData(!0)||a.heightScore<0||a.heightScore>1073741824)&&(a.setHaveGameData(!1),a.heightScore=0,a.setHeightScore(0))):o.loadingSceneType==o.LoadingSceneType.LoadingSceneBackGame&&(o.IS_GAME_OVER||a.loadGameData(!1)),o.loadingSceneType==o.LoadingSceneType.LoadingSceneFirst?cc.director.preloadScene("MenuUI",function(){cc.director.loadScene("MenuUI")}):o.loadingSceneType==o.LoadingSceneType.LoadingSceneEnterGame?cc.director.preloadScene("GameScene",function(){cc.director.loadScene("GameScene")}):o.loadingSceneType==o.LoadingSceneType.LoadingSceneBackGame&&cc.director.preloadScene("MenuUI",function(){cc.director.loadScene("MenuUI")})},initFrameCache:function(){cc.loader.loadRes("number",cc.LabelAtlas,function(e,t){r.numberLabelAtlas=t})},initWxSetting:function(){if(CC_WECHATGAME){window.wx.onHide(function(){o.loadingSceneType!=o.LoadingSceneType.LoadingSceneEnterGame||o.IS_GAME_OVER||(a.loadGameData(!1),r.stopBackgroundMusic())}),window.wx.onShow(function(){o.loadingSceneType!=o.LoadingSceneType.LoadingSceneEnterGame||o.IS_GAME_OVER||o.IS_GAME_MUSIC&&r.playBackgroundMusic()}),window.wx.onAudioInterruptionBegin(function(){r.stopBackgroundMusic()}),window.wx.onAudioInterruptionEnd(function(){o.loadingSceneType!=o.LoadingSceneType.LoadingSceneEnterGame||o.IS_GAME_OVER||o.IS_GAME_MUSIC&&r.playBackgroundMusic()}),window.wx.showShareMenu({withShareTicket:!0}),window.wx.onShareAppMessage(function(){return{title:"\u6765\u8ddf\u6211\u4e00\u8d77\u6311\u6218\u6d6a\u6f2b2048\u3002",imageUrl:canvas.toTempFilePathSync({destWidth:500,destHeight:400})}});var e=wx.getLaunchOptionsSync();e.query!={}&&null!=e.query.x&&(o.MAIN_MENU_NUM=Number(e.query.x));var t=window.wx.getSystemInfoSync();o.GameClubButton=window.wx.createGameClubButton({icon:"green",style:{left:t.windowWidth/2+25,top:90*t.windowHeight/100,width:40,height:40}}),o.GameClubButton.hide()}}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],MenuUI:[function(e,t){"use strict";cc._RF.push(t,"5c2b5VzgPNHI4Chk6xcuhIS","MenuUI");var a=e("GameTools"),r=e("GameUiTools"),o=e("GameConfig"),i=e("GameData");e("AnimLayerTool"),cc.Class({extends:cc.Component,properties:{layerBack:cc.Node,startGameButton:cc.Node,musicButton:cc.Node,bestScoreLabel:cc.Label,gameIntegral:cc.Label,rankButton:cc.Node,shareButton:cc.Node,shareButton2:cc.Node,helpButton:cc.Node},onLoad:function(){r.setButtonClickEvents(this,this.startGameButton,"startGameButtonFunc"),r.setButtonClickEvents(this,this.musicButton,"musicButtonFunc"),r.setButtonClickEvents(this,this.rankButton,"rankButtonFunc"),r.setButtonClickEvents(this,this.shareButton,"shareButtonFunc"),r.setButtonClickEvents(this,this.shareButton2,"shareButtonFunc"),r.setButtonClickEvents(this,this.helpButton,"helpButtonFunc"),o.IS_GAME_MUSIC||r.getSpriteFrame("pop_main/popmain_78",this.musicButton.getComponent(cc.Sprite)),this.bestScoreLabel.string=i.getHeightScore(),this.gameIntegral.string=a.getGameIntegral()},start:function(){CC_WECHATGAME&&null!=o.GameClubButton&&o.GameClubButton.show()},startGameButtonFunc:function(){a.playSimpleAudioEngine(0),this.loadingResource()},musicButtonFunc:function(){a.playSimpleAudioEngine(0),o.IS_GAME_MUSIC=!o.IS_GAME_MUSIC,a.setItemByLocalStorage("IS_GAME_MUSIC",o.IS_GAME_MUSIC),o.IS_GAME_MUSIC?r.getSpriteFrame("pop_main/popmain_58",this.musicButton.getComponent(cc.Sprite)):r.getSpriteFrame("pop_main/popmain_78",this.musicButton.getComponent(cc.Sprite))},rankButtonFunc:function(){a.playSimpleAudioEngine(0),a.getRankData()},shareButtonFunc:function(){a.playSimpleAudioEngine(0),setTimeout(function(){a.sharePicture()},100)},helpButtonFunc:function(){a.playSimpleAudioEngine(0),r.loadingLayer("panel/GameHelp")},loadingResource:function(){o.CAED_LINES=10,o.MAIN_MENU_NUM=11,o.mainMenu=o.MainMenu.MainMenuNumPopStar,o.CARD_WIDTH=(o.DEVICE_WIDTH-o.DEVICE_WIDTH/10)/o.CAED_LINES,o.loadingSceneType=o.LoadingSceneType.LoadingSceneEnterGame,cc.director.loadScene("LoadingScene")},onDestroy:function(){CC_WECHATGAME&&null!=o.GameClubButton&&o.GameClubButton.hide()}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameData:"GameData",GameTools:"GameTools",GameUiTools:"GameUiTools"}],RankingListView:[function(e,t){"use strict";cc._RF.push(t,"31b56tJWjpPlrcCAXTwiyUM","RankingListView");var a=e("GameConfig"),r=(e("AnimLayerTool"),e("GameTools")),o=e("GameUiTools");cc.Class({extends:cc.Component,properties:{backButton:cc.Node,rankingScrollView:cc.Sprite,shareTicket:null},onLoad:function(){},start:function(){if(o.setButtonClickEvents(this,this.backButton,"backButtonFunc"),null!=this.shareTicket){var e=new cc.Node;e.addComponent(cc.Label).string="\u7fa4\u6392\u884c",e.setPosition(-260,503),this.node.addChild(e)}if(CC_WECHATGAME)null!=window.sharedCanvas&&(this.tex=new cc.Texture2D,window.sharedCanvas.width=720,window.sharedCanvas.height=1280,null!=this.shareTicket?window.wx.postMessage({messageType:5,MAIN_MENU_NUM:a.MAIN_MENU_NUM,shareTicket:this.shareTicket}):window.wx.postMessage({messageType:1,MAIN_MENU_NUM:a.MAIN_MENU_NUM}));else{var t=new cc.Node;t.addComponent(cc.Label).string="\u6682\u65e0\u6392\u884c\u699c\u6570\u636e",this.node.addChild(t),cc.log("\u83b7\u53d6\u6392\u884c\u699c\u6570\u636e\u3002"+a.MAIN_MENU_NUM)}},shareButtonFunc:function(){r.playSimpleAudioEngine(4),setTimeout(function(){r.sharePicture("shareTicket")},100)},backButtonFunc:function(){r.playSimpleAudioEngine(0),this.node.destroy()},_updateSubDomainCanvas:function(){CC_WECHATGAME&&null!=window.sharedCanvas&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.rankingScrollView.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(){this._updateSubDomainCanvas()}}),cc._RF.pop()},{AnimLayerTool:"AnimLayerTool",GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],ShowMessage:[function(e,t){"use strict";cc._RF.push(t,"38b70CDgDNDRrOc8pj7+Z2r","ShowMessage"),e("GameConfig");var a=e("GameTools");e("GameUiTools"),cc.Class({extends:cc.Component,properties:{messageLabel:cc.Label,backButton:cc.Node,toastType:0},start:function(){var e;e=0==this.toastType?"\u6b22\u8fce\u8fdb\u5165\u6d6a\u6f2b2048":1==this.toastType?"\u8be5\u529f\u80fd\u82e6\u903c\u7684\u7a0b\u5e8f\u5458\u8fd8\u5728\u52aa\u529b\u5f00\u53d1\u4e2d\uff0c\u6b22\u8fce\u7559\u8a00\u53cd\u9988\uff01":2==this.toastType?"\u79ef\u5206\u4e0d\u8db3\uff01\uff01\uff01\u60a8\u53ef\u4ee5\u73a9\u6e38\u620f\u6765\u83b7\u53d6\u79ef\u5206\uff0c\u8fd8\u53ef\u4ee5\u6bcf\u5929\u767b\u5f55\u8d5a\u53d6\u79ef\u5206\uff01":3==this.toastType?"\u6700\u591a\u53ea\u80fd\u540e\u90003\u6b65\uff01\uff01\uff01":4==this.toastType?"\u53ea\u80fd\u540e\u90001\u6b65\uff01\uff01\uff01":5==this.toastType?"\u8be5\u6a21\u5f0f\u6682\u65e0\u5e2e\u52a9\uff0c\u8c22\u8c22\uff01\uff01\uff01":6==this.toastType?"\u79ef\u5206\u4e0d\u8db3\uff01\uff01\uff01\u60a8\u9700\u8981300\u79ef\u5206\u6765\u590d\u6d3b\u3002":7==this.toastType?"\u606d\u559c\u5145\u503c\u6210\u529f\uff0c\u611f\u8c22\u60a8\u5bf9\u6d6a\u6f2b2048\u7684\u652f\u6301\uff01\uff01\uff01":8==this.toastType?"\u5145\u503c\u5931\u8d25\uff0c\u8c22\u8c22\u652f\u6301\uff01\uff01\uff01":9==this.toastType?"\u4eca\u5929\u9996\u6b21\u8fdb\u5165\u5956\u52b1100\u79ef\u5206\uff0c\u6bcf\u5929\u9996\u6b21\u8fdb\u5165\u6e38\u620f\u90fd\u4f1a\u83b7\u53d6\u79ef\u5206\u54df\uff01\uff01\uff01":10==this.toastType?"\u6ca1\u6709\u627e\u5230\u5e94\u7528\u5e02\u573a":11==this.toastType?"\u606d\u559c\u83b7\u5f97\u5956\u52b110\u79ef\u5206\uff0c\u611f\u8c22\u60a8\u5bf9\u6d6a\u6f2b2048\u7684\u652f\u6301":12==this.toastType?"\u60a8\u4eca\u5929\u5df2\u7ecf\u9886\u8fc7\u5956\u52b1\u4e86\uff0c\u8c22\u8c22":13==this.toastType?"\u805a\u5408\u6a21\u5f0f\u6682\u65e0\u81ea\u52a8\u529f\u80fd\uff0c\u8c22\u8c22":14==this.toastType?"\u606d\u559c\u83b7\u5f97\u5956\u52b1100\u79ef\u5206\uff0c\u611f\u8c22\u60a8\u5bf9\u6d6a\u6f2b2048\u7684\u652f\u6301":15==this.toastType?"\u7ecf\u5178\u6a21\u5f0f\u4e0d\u80fd\u4f7f\u7528\u9053\u5177\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u53bb\u8bd5\u8bd5\u5176\u5b83\u73a9\u6cd5\u54df\uff01":16==this.toastType?"\u4e0a\u4f20\u5f97\u5206\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc":17==this.toastType?"\u6392\u884c\u699c\u6570\u636e\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc":18==this.toastType?"\u4e0a\u4f20\u5f97\u5206\u6210\u529f\uff0c\u8d76\u7d27\u53bb\u770b\u770b\u6392\u884c\u699c\u5427":19==this.toastType?"\u89c6\u9891\u5956\u52b1":20==this.toastType?"\u4fdd\u5b58\u56fe\u7247\u6210\u529f":21==this.toastType?"\u4fdd\u5b58\u56fe\u7247\u5931\u8d25":22==this.toastType?"\u70b9\u51fb\u9700\u8981\u6d88\u9664\u7684\u7231\u5fc3\u5373\u53ef\u6d88\u9664\u8be5\u7231\u5fc3\uff01":23==this.toastType?"\u70b9\u51fb\u9700\u8981\u6362\u4f4d\u7684\u7231\u5fc3\u5c06\u4f1a\u9009\u4e2d\u8be5\u7231\u5fc3\uff0c\u7ee7\u7eed\u70b9\u51fb\u8be5\u7231\u5fc3\u5468\u8fb9\u7684\u7231\u5fc3\u5373\u53ef\u5b9e\u73b0\u7231\u5fc3\u7684\u6362\u4f4d\uff01":24==this.toastType?"\u70b9\u51fb\u9700\u8981\u7f29\u5c0f\u6570\u5b57\u7684\u7231\u5fc3\u5373\u53ef\u5c06\u8be5\u7231\u5fc3\u7684\u6570\u5b57\u7f29\u5c0f2\u500d":25==this.toastType?"\u70b9\u51fb\u9700\u8981\u6d88\u9664\u7684\u7231\u5fc3\u5373\u53ef\u6d88\u9664\u4e0e\u8be5\u7231\u5fc3\u540c\u6a2a\u6392\u7684\u7231\u5fc3\uff01":26==this.toastType?"\u70b9\u51fb\u9700\u8981\u6d88\u9664\u7684\u7231\u5fc3\u5373\u53ef\u6d88\u9664\u4e0e\u8be5\u7231\u5fc3\u540c\u7ad6\u6392\u7684\u7231\u5fc3\uff01":27==this.toastType?"\u89c6\u9891\u64ad\u653e\u5931\u8d25\uff0c\u8c22\u8c22\uff01\uff01":28==this.toastType?"\u6ed1\u52a8\u5c4f\u5e55\u6765\u79fb\u52a8\u5c0f\u65b9\u5757\uff0c\u4e24\u4e2a\u6570\u5b57\u4e00\u6837\u7684\u5c0f\u65b9\u5757\u76f8\u649e\u65f6\u5c31\u4f1a\u76f8\u52a0\u5408\u6210\u4e00\u4e2a\u65b9\u5757\uff0c\u6bcf\u6b21\u64cd\u4f5c\u4e4b\u540e\u4f1a\u5728\u7a7a\u767d\u7684\u65b9\u683c\u5904\u968f\u673a\u751f\u6210\u4e00\u4e2a2\u62164\u7684\u65b9\u5757\uff0c\u6700\u7ec8\u5f97\u5230\u4e00\u4e2a2048\u7684\u65b9\u5757\u5c31\u7b97\u80dc\u5229\u4e86\uff0c\u5982\u679c16\u4e2a\u683c\u5b50\u5168\u90e8\u586b\u6ee1\u65e0\u6cd5\u79fb\u52a8\u7684\u8bdd\u5219\u6e38\u620f\u7ed3\u675f\u3002":29==this.toastType?"\u70b9\u51fb\u7a7a\u767d\u7231\u5fc3\uff0c\u7231\u5fc3\u4f1a\u5411\u70b9\u51fb\u7684\u4f4d\u7f6e\u9760\u62e2\uff0c\u5f53\u4e24\u4e2a\u6570\u5b57\u76f8\u540c\u7684\u7231\u5fc3\u76f8\u9047\u65f6\u5c31\u4f1a\u5408\u5e76\u4e3a\u4e24\u6570\u5b57\u4e4b\u548c\uff0c\u5168\u90e8\u586b\u6ee1\u65e0\u6cd5\u79fb\u52a8\u7684\u8bdd\u5219\u6e38\u620f\u7ed3\u675f\u3002":30==this.toastType?"\u9009\u4e2d\u8fde\u63a5\u5728\u4e00\u8d77\u7684\u76f8\u540c\u6570\u5b57\uff0c\u70b9\u51fb\u7684\u6570\u5b57\u4f1a\u805a\u5408\u4e3a\u66f4\u5927\u7684\u6570\u5b57\uff0c\u5176\u5b83\u6570\u5b57\u5219\u6d88\u9664\uff0c\u5b8c\u6210\u901a\u5173\u6240\u9700\u5f97\u5206\u5373\u53ef\u8fdb\u5165\u4e0b\u4e00\u5173\uff0c\u5426\u5219\u6e38\u620f\u7ed3\u675f\u3002":31==this.toastType?"\u9009\u4e2d\u8fde\u63a5\u5728\u4e00\u8d77\u7684\u76f8\u540c\u6570\u5b57\uff0c\u9009\u4e2d\u7684\u6570\u5b57\u5c06\u4f1a\u88ab\u6d88\u9664\uff0c\u5b8c\u6210\u901a\u5173\u6240\u9700\u5f97\u5206\u5373\u53ef\u8fdb\u5165\u4e0b\u4e00\u5173\uff0c\u5426\u5219\u6e38\u620f\u7ed3\u675f\u3002":this.toastType,this.messageLabel.string=e},backButtonFunc:function(){a.playSimpleAudioEngine(0),this.node.destroy()}}),cc._RF.pop()},{GameConfig:"GameConfig",GameTools:"GameTools",GameUiTools:"GameUiTools"}],"use_v2.0.x_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"b4177DMtXtOPoYZvLo1iH/g","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["AnimLayerTool","CardSprite","GameConfig","GameData","GamePopStar","GameScene","GameTools","GameUiTools","LoadingScene","MenuUI","AnimInAndOut","GameHelp","GameOver","GamePass","GamePropHelp","GamePropNode","RankingListView","ShowMessage","use_v2.0.x_cc.Toggle_event"]);