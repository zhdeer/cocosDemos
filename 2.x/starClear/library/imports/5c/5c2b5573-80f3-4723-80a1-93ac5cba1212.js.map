{"version":3,"sources":["assets\\Script\\MenuUI.js"],"names":["GameTools","require","GameUiTools","GameConfig","GameData","AnimLayerTool","cc","Class","Component","properties","layerBack","Node","startGameButton","musicButton","bestScoreLabel","Label","gameIntegral","rankButton","shareButton","shareButton2","helpButton","onLoad","setButtonClickEvents","IS_GAME_MUSIC","getSpriteFrame","getComponent","Sprite","string","getHeightScore","getGameIntegral","start","CC_WECHATGAME","GameClubButton","show","startGameButtonFunc","event","customEventData","playSimpleAudioEngine","loadingResource","musicButtonFunc","setItemByLocalStorage","rankButtonFunc","getRankData","shareButtonFunc","setTimeout","sharePicture","helpButtonFunc","loadingLayer","CAED_LINES","MAIN_MENU_NUM","mainMenu","MainMenu","MainMenuNumPopStar","CARD_WIDTH","DEVICE_WIDTH","loadingSceneType","LoadingSceneType","LoadingSceneEnterGame","director","loadScene","onDestroy","hide"],"mappings":"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","sourceRoot":"/","sourcesContent":["var GameTools = require(\"GameTools\");\nvar GameUiTools = require(\"GameUiTools\");\nvar GameConfig = require(\"GameConfig\");\nvar GameData = require(\"GameData\");\nvar AnimLayerTool = require(\"AnimLayerTool\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        layerBack: cc.Node,\n        startGameButton: cc.Node,\n        musicButton: cc.Node,\n        bestScoreLabel: cc.Label,\n        gameIntegral: cc.Label,\n        rankButton: cc.Node, //排行榜按钮\n        shareButton: cc.Node, //好友分享按钮\n        shareButton2: cc.Node, //群分享按钮\n        helpButton: cc.Node, //帮助按钮\n    },\n\n    onLoad() {\n        GameUiTools.setButtonClickEvents(this, this.startGameButton, \"startGameButtonFunc\");\n        GameUiTools.setButtonClickEvents(this, this.musicButton, \"musicButtonFunc\");\n        GameUiTools.setButtonClickEvents(this, this.rankButton, \"rankButtonFunc\");\n        GameUiTools.setButtonClickEvents(this, this.shareButton, \"shareButtonFunc\");\n        GameUiTools.setButtonClickEvents(this, this.shareButton2, \"shareButtonFunc\");\n        GameUiTools.setButtonClickEvents(this, this.helpButton, \"helpButtonFunc\");\n        if (!GameConfig.IS_GAME_MUSIC) {\n            GameUiTools.getSpriteFrame(\"pop_main/popmain_78\", this.musicButton.getComponent(cc.Sprite));\n        }\n        this.bestScoreLabel.string = GameData.getHeightScore();\n        this.gameIntegral.string = GameTools.getGameIntegral();\n    },\n\n    start() {\n        if (CC_WECHATGAME) {\n            if (GameConfig.GameClubButton != null) {\n                GameConfig.GameClubButton.show();\n            }\n        }\n    },\n\n    startGameButtonFunc: function (event, customEventData) {\n        GameTools.playSimpleAudioEngine(0);\n        this.loadingResource();\n    },\n\n    musicButtonFunc: function () {\n        GameTools.playSimpleAudioEngine(0);\n        GameConfig.IS_GAME_MUSIC = !GameConfig.IS_GAME_MUSIC;\n        GameTools.setItemByLocalStorage(\"IS_GAME_MUSIC\", GameConfig.IS_GAME_MUSIC);\n        if (GameConfig.IS_GAME_MUSIC) {\n            GameUiTools.getSpriteFrame(\"pop_main/popmain_58\", this.musicButton.getComponent(cc.Sprite));\n        } else {\n            GameUiTools.getSpriteFrame(\"pop_main/popmain_78\", this.musicButton.getComponent(cc.Sprite));\n        }\n    },\n\n    rankButtonFunc: function (event) {\n        GameTools.playSimpleAudioEngine(0);\n        GameTools.getRankData();\n    },\n\n    shareButtonFunc: function (event) {\n        GameTools.playSimpleAudioEngine(0);\n        setTimeout(() => {\n            GameTools.sharePicture();\n        }, 100);\n    },\n    helpButtonFunc: function (event) {\n        GameTools.playSimpleAudioEngine(0);\n        GameUiTools.loadingLayer(\"panel/GameHelp\");\n    },\n\n    loadingResource: function () {\n        // cc.director.loadScene('GameScene');\n        GameConfig.CAED_LINES = 10;\n        GameConfig.MAIN_MENU_NUM = 11;\n        GameConfig.mainMenu = GameConfig.MainMenu.MainMenuNumPopStar;\n        GameConfig.CARD_WIDTH = (GameConfig.DEVICE_WIDTH - GameConfig.DEVICE_WIDTH / 10.0) / GameConfig.CAED_LINES;\n        GameConfig.loadingSceneType = GameConfig.LoadingSceneType.LoadingSceneEnterGame;\n        cc.director.loadScene('LoadingScene');\n    },\n\n    onDestroy() {\n        if (CC_WECHATGAME) {\n            if (GameConfig.GameClubButton != null) {\n                GameConfig.GameClubButton.hide();\n            }\n        }\n    }\n});\n"]}