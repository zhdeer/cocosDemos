{"version":3,"sources":["assets\\Script\\CardSprite.js"],"names":["GameConfig","require","GameTools","GameUiTools","CardSprite","cc","Class","Node","properties","cardSprite","number","isSelect","isFirstSelect","ctor","addComponent","Sprite","statics","createCardSprite","numbers","CardSpriteX","CardSpriteY","initCard","CardShow","setPosition","width","CARD_WIDTH","height","sizeMode","SizeMode","CUSTOM","getSpriteFrame","setNumber","getNumber","CardClickShow","ClickType","removeAllChildren","move","moveBy","v2","runAction","sequence","reverse","effects","w","getContentSize","scale","setScale","addChild","move1","scaleBy","actions","repeatForever","getIsSelect","getIsFirstSelect","isVisible","opacity","setVisible","isTrue","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var GameConfig = require(\"GameConfig\");\nvar GameTools = require(\"GameTools\");\nvar GameUiTools = require(\"GameUiTools\");\nvar CardSprite = cc.Class({\n    extends: cc.Node,\n    properties: {\n        cardSprite: null,\n        number: 0,// 显示数字\n        isSelect: false,//记录是否选中\n        isFirstSelect: false,//记录是否为第一次选中\n    },\n    ctor: function () {\n        this.cardSprite = this.addComponent(cc.Sprite);\n    },\n    statics: {\n        createCardSprite: function (numbers, CardSpriteX, CardSpriteY) {\n            let cardSprite = new CardSprite();\n            // 自定义初始化\n            cardSprite.initCard(numbers, CardSpriteX, CardSpriteY);\n            return cardSprite;\n        }\n    },\n    initCard: function (numbers, CardSpriteX, CardSpriteY)// 初始化\n    {\n        // 初始化数字\n        this.number = numbers;\n        this.CardShow();\n        this.setPosition(CardSpriteX, CardSpriteY);\n        this.width = GameConfig.CARD_WIDTH;\n        this.height = GameConfig.CARD_WIDTH;\n        this.cardSprite.sizeMode = cc.Sprite.SizeMode.CUSTOM;\n    },\n    CardShow: function () {\n        // 判断数字的大小来调整颜色\n        if (this.number == 1) {\n             GameUiTools.getSpriteFrame(\"pop_game/barrier\", this.cardSprite);\n        } else if (this.number == -1) {\n            GameUiTools.getSpriteFrame(\"pop_game/popgame_61\", this.cardSprite);\n        } else if (this.number == 0) {\n            // this.cardSprite.spriteFrame = GameUiTools.getSpriteFrame(\"pop_game/emptyl\");\n            GameUiTools.getSpriteFrame(\"pop_game/emptyl\", this.cardSprite );\n        } else if (this.number >= 2 && this.number <= 131072) {\n            // this.cardSprite.spriteFrame = GameUiTools.getSpriteFrame(\"pop_game/n\" + this.number);\n            GameUiTools.getSpriteFrame(\"pop_game/n\" + this.number, this.cardSprite);\n        }\n    },\n    setNumber: function (number) {\n        this.number = number;\n    },\n    getNumber: function () {\n        return this.number;\n    },\n    /*\n*创建点击特效\n*ClickType 0移除特效 1点击动画特效 2点击静态特效\n*/\n    CardClickShow(ClickType) {\n        if (ClickType == 0) {\n            this.removeAllChildren();\n            this.isSelect = false;\n            this.isFirstSelect = false;\n        } else {\n            let move = cc.moveBy(0.05, cc.v2(0, 2));\n            this.runAction(cc.sequence(move, move.reverse()));\n            this.isSelect = true;\n            let effects = new cc.Node();\n            GameUiTools.getSpriteFrame(\"pop_game/popgame_61\", effects.addComponent(cc.Sprite));\n            let w = effects.getContentSize().height;\n            let scale = this.getContentSize().height / w;\n            effects.setScale(scale);\n            this.addChild(effects);\n            if (ClickType == 1) {\n                this.isFirstSelect = true;\n                let move1 = cc.scaleBy(0.4, 1.15);\n                let actions = cc.sequence(move1, move1.reverse());\n                effects.runAction(actions.repeatForever());\n            } else if (ClickType == 2) {\n                effects.setScale(scale + 0.05);\n            }\n        }\n    },\n    getIsSelect() {\n        return this.isSelect;\n    },\n    getIsFirstSelect() {\n        return this.isFirstSelect;\n    },\n    isVisible() {\n        return this.opacity == 255;\n    },\n    setVisible(isTrue) {\n        this.opacity = isTrue ? 255 : 0;\n    }\n});\n\nmodule.exports = CardSprite;"]}